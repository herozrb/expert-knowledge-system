<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能催收标注平台</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        :root {
            --primary-color: #2c6ecb;
            --primary-light: #eef4fd;
            --secondary-color: #6c757d;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
            --light-bg: #f8f9fa;
            --border-color: #e9ecef;
            --text-primary: #333;
            --text-secondary: #6c757d;
            --text-muted: #999;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
            --anim-time: 0.2s;
        }
        
        body {
            font-family: "Microsoft YaHei", "PingFang SC", sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f7fa;
            color: var(--text-primary);
            min-width: 580px;
            line-height: 1.5;
            overflow-x: hidden;
        }
        
        /* 顶部导航栏 */
        .header {
            background-color: #fff;
            color: var(--text-primary);
            padding: 0.75rem 1.25rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-title {
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
        }
        
        .header-logo {
            height: 28px;
            margin-right: 12px;
        }
        
        .header-right {
            display: flex;
            align-items: center;
        }
        
        .user-info {
            margin-right: 20px;
            display: flex;
            align-items: center;
        }
        
        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 8px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        /* 主容器 */
        .main-container {
            display: flex;
            min-height: calc(100vh - 60px);
            position: relative;
        }
        
        /* 侧边栏 */
        .sidebar {
            width: 220px;
            background-color: #fff;
            border-right: 1px solid var(--border-color);
            transition: width var(--anim-time);
            position: sticky;
            top: 60px;
            height: calc(100vh - 60px);
            overflow-y: auto;
            z-index: 100;
        }
        
        .sidebar-collapsed {
            width: 70px;
        }
        
        .sidebar-toggle {
            position: absolute;
            right: -12px;
            top: 20px;
            background-color: #fff;
            border: 1px solid var(--border-color);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: var(--shadow-sm);
            transition: transform var(--anim-time);
        }
        
        .sidebar-toggle:hover {
            background-color: var(--light-bg);
        }
        
        .sidebar-title {
            padding: 1rem;
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.9rem;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
        }
        
        .sidebar-title i {
            margin-right: 0.5rem;
            color: var(--primary-color);
        }
        
        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .sidebar-menu li {
            transition: background-color var(--anim-time);
            border-bottom: 1px solid var(--border-color);
        }
        
        .sidebar-menu a {
            padding: 0.8rem 1rem;
            color: var(--text-primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            transition: all var(--anim-time);
        }
        
        .sidebar-menu a:hover {
            background-color: var(--primary-light);
            color: var(--primary-color);
        }
        
        .sidebar-menu a.active {
            background-color: var(--primary-light);
            color: var(--primary-color);
            border-left: 3px solid var(--primary-color);
        }
        
        .sidebar-menu i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
            font-size: 1rem;
            color: var(--primary-color);
        }
        
        .sidebar-menu .menu-text {
            transition: opacity var(--anim-time);
        }
        
        .sidebar-collapsed .sidebar-menu .menu-text {
            opacity: 0;
            display: none;
        }
        
        /* 二级菜单样式 */
        .sidebar-menu .has-submenu {
            position: relative;
        }
        
        .sidebar-menu .has-submenu .submenu-icon {
            position: absolute;
            right: 15px;
            transition: transform 0.3s;
        }
        
        .sidebar-menu .has-submenu.open .submenu-icon {
            transform: rotate(90deg);
        }
        
        .sidebar-menu .submenu {
            list-style: none;
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background-color: #f9f9f9;
        }
        
        .sidebar-menu .has-submenu.open .submenu {
            max-height: 500px;
            transition: max-height 0.5s ease-in;
        }
        
        .sidebar-menu .submenu li {
            border-bottom: none;
            border-top: 1px solid #f0f0f0;
        }
        
        .sidebar-menu .submenu a {
            padding-left: 3rem;
            font-size: 0.9rem;
        }
        
        .sidebar-menu .submenu a.active {
            background-color: var(--primary-light);
            color: var(--primary-color);
            border-left: 3px solid var(--primary-color);
        }
        
        .sidebar-collapsed .sidebar-menu .submenu {
            display: none;
        }
        
        /* 内容区域 */
        .content {
            flex: 1;
            padding: 1.5rem;
            margin-right: 420px; /* 为右侧抽屉留出空间 (350px * 1.2) */
            transition: margin-right 0.3s ease;
        }
        
        .content-full {
            margin-right: 0;
        }
        
        /* 标注抽屉 */
        .annotation-drawer {
            position: fixed;
            top: 60px;
            right: 0;
            width: 420px; /* 增加至原来的1.2倍 */
            height: calc(100vh - 60px);
            background-color: #fff;
            border-left: 1px solid var(--border-color);
            box-shadow: var(--shadow-md);
            z-index: 90;
            overflow-y: auto;
            transition: transform 0.3s ease;
            padding-bottom: 20px;
        }
        
        .annotation-drawer.collapsed {
            transform: translateX(420px); /* 与宽度对应 */
        }
        
        .drawer-toggle {
            position: absolute;
            left: -12px;
            top: 20px;
            background-color: #fff;
            border: 1px solid var(--border-color);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            box-shadow: var(--shadow-sm);
        }
        
        .drawer-toggle:hover {
            background-color: var(--light-bg);
        }
        
        .drawer-header {
            padding: 16px 20px;
            font-weight: 600;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            background-color: var(--light-bg);
        }
        
        .drawer-header i {
            margin-right: 10px;
            color: var(--primary-color);
        }
        
        .drawer-body {
            padding: 20px;
        }
        
        /* 卡片样式 */
        .card {
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            box-shadow: var(--shadow-sm);
            background-color: #fff;
        }
        
        .card-header {
            background-color: #fff;
            padding: 12px 16px;
            font-weight: 600;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
        }
        
        .card-header i {
            margin-right: 8px;
            color: var(--primary-color);
        }
        
        /* 标签页样式 */
        .history-tabs {
            display: flex;
            background-color: #fff;
            border-bottom: 1px solid #e0e0e0;
            padding: 0;
            margin-bottom: 0;
        }
        
        .history-tabs .tab-item {
            padding: 12px 20px;
            cursor: pointer;
            color: #666;
            font-weight: 500;
            position: relative;
            display: flex;
            align-items: center;
            border: none;
            background: transparent;
        }
        
        .history-tabs .tab-item.active {
            color: #2c6ecb;
            border-bottom: 2px solid #2c6ecb;
        }
        
        .history-tabs .tab-item i {
            margin-right: 8px;
        }
        
        .tab-content {
            background-color: #fff;
        }
        
        .tab-pane {
            display: none;
        }
        
        .tab-pane.active {
            display: block;
        }
        
        /* 表格样式 */
        .table {
            margin-bottom: 0;
        }
        
        .table th {
            background-color: #f8f9fa;
            font-weight: 600;
            padding: 10px 16px;
            border-top: none;
        }
        
        .table td {
            padding: 10px 16px;
            vertical-align: middle;
        }
        
        .table-hover tbody tr:hover {
            background-color: rgba(44, 110, 203, 0.05);
        }
        
        /* 音频播放器 */
        .audio-player {
            background-color: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .audio-controls {
            display: flex;
            align-items: center;
            padding: 10px;
            background-color: #f8f9fa;
        }
        
        .play-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: #2c6ecb;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            cursor: pointer;
            margin-right: 10px;
        }
        
        .pause-btn {
            background-color: #6c757d;
        }
        
        .progress-container {
            flex: 1;
            height: 4px;
            background-color: #e0e0e0;
            border-radius: 2px;
            position: relative;
            margin: 0 15px;
        }
        
        .progress-bar {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background-color: #2c6ecb;
            border-radius: 2px;
            width: 20%;
        }
        
        .time-display {
            color: #666;
            font-size: 0.85rem;
            width: 80px;
            text-align: right;
        }
        
        /* 用户信息卡片 */
        .info-card {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .info-item {
            padding: 10px 0;
        }
        
        .info-label {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-bottom: 5px;
        }
        
        .info-value {
            font-weight: 600;
        }
        
        /* 通话内容表格 */
        .conversation-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .conversation-table th, .conversation-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .conversation-table th {
            background-color: #f8f9fa;
            font-weight: 600;
        }
        
        .bot-speech {
            background-color: #fff;
        }
        
        .user-speech {
            background-color: #f8f9fa;
        }
        
        /* 标注表单样式 */
        .form-label {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-primary);
        }
        
        /* 辅助样式 */
        .badge {
            padding: 5px 8px;
            border-radius: 4px;
            font-weight: 500;
            font-size: 0.75rem;
        }
        
        .badge-success {
            background-color: #e6f7ed;
            color: #28a745;
        }
        
        .badge-warning {
            background-color: #fff8e6;
            color: #f5a623;
        }
        
        .badge-danger {
            background-color: #fbe7e7;
            color: #dc3545;
        }
        
        .text-truncate {
            max-width: 250px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .highlight-row {
            background-color: var(--primary-light) !important;
        }
        
        @media (max-width: 992px) {
            .content {
                margin-right: 0;
            }
            
            .annotation-drawer {
                transform: translateX(350px);
            }
            
            .annotation-drawer.active {
                transform: translateX(0);
            }
        }
        
        /* 添加表格排序和筛选样式 */
        .sortable {
            cursor: pointer;
            position: relative;
            padding-right: 18px !important;
        }
        
        .sortable:after {
            content: '\f0dc';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            position: absolute;
            right: 6px;
            color: #aaa;
            font-size: 12px;
        }
        
        .sortable.asc:after {
            content: '\f0de';
            color: var(--primary-color);
        }
        
        .sortable.desc:after {
            content: '\f0dd';
            color: var(--primary-color);
        }
        
        .filter-icon {
            margin-left: 5px;
            color: #aaa;
            cursor: pointer;
        }
        
        .filter-icon:hover, .filter-icon.active {
            color: var(--primary-color);
        }
        
        .filter-dropdown {
            position: absolute;
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            box-shadow: var(--shadow-md);
            z-index: 100;
            min-width: 150px;
            display: none;
            padding: 8px;
        }
        
        .filter-dropdown.show {
            display: block;
        }
        
        .filter-dropdown .filter-search {
            margin-bottom: 8px;
        }
        
        .filter-dropdown .filter-options {
            max-height: 200px;
            overflow-y: auto;
        }
        
        .filter-dropdown .filter-item {
            padding: 4px 8px;
            margin-bottom: 2px;
            display: flex;
            align-items: center;
        }
        
        .filter-dropdown .filter-item:hover {
            background-color: var(--light-bg);
        }
        
        .filter-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid var(--border-color);
        }
    </style>
</head>
<body>
    <!-- 顶部导航栏 -->
    <header class="header">
        <div class="header-title">
            <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjk2OWNiIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgY2xhc3M9ImZlYXRoZXIgZmVhdGhlci1sYXllcnMiPjxwb2x5Z29uIHBvaW50cz0iMTIgMiAyIDcgMTIgMTIgMjIgNyAxMiAyIj48L3BvbHlnb24+PHBvbHlsaW5lIHBvaW50cz0iMiAxNyAxMiAyMiAyMiAxNyI+PC9wb2x5bGluZT48cG9seWxpbmUgcG9pbnRzPSIyIDEyIDEyIDE3IDIyIDEyIj48L3BvbHlsaW5lPjwvc3ZnPg==" alt="Logo" class="header-logo">
            专家知识库-标注平台
        </div>
        <div class="header-right">
            <div class="user-info">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <span>标注员A</span>
            </div>
            <button class="btn btn-sm btn-outline-secondary">
                <i class="fas fa-sign-out-alt mr-1"></i>退出
            </button>
        </div>
    </header>
    
    <div class="main-container">
        <!-- 左侧菜单 -->
        <aside class="sidebar">
            <div class="sidebar-toggle">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="sidebar-title">
                <i class="fas fa-th-list"></i>专家知识库
            </div>
            <ul class="sidebar-menu">
                <li class="has-submenu open">
                    <a href="javascript:void(0);">
                        <i class="fas fa-edit"></i>
                        <span class="menu-text">知识录入</span>
                        <i class="fas fa-chevron-right submenu-icon"></i>
                    </a>
                    <ul class="submenu">
                        <li>
                            <a href="对话标注.html" class="active">
                                <span class="menu-text">对话标注</span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="has-submenu">
                    <a href="javascript:void(0);">
                        <i class="fas fa-database"></i>
                        <span class="menu-text">知识管理</span>
                        <i class="fas fa-chevron-right submenu-icon"></i>
                    </a>
                    <ul class="submenu">
                        <li>
                            <a href="../Knowledge_Management/专家策略.html">
                                <span class="menu-text">专家策略库</span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="has-submenu">
                    <a href="javascript:void(0);">
                        <i class="fas fa-flask"></i>
                        <span class="menu-text">模型评测</span>
                        <i class="fas fa-chevron-right submenu-icon"></i>
                    </a>
                    <ul class="submenu">
                        <li>
                            <a href="../Model_Evaluation/对战界面.html">
                                <span class="menu-text">对战界面</span>
                            </a>
                        </li>
                        <li>
                            <a href="../Model_Evaluation/对战数据创建界面.html">
                                <span class="menu-text">对战数据创建</span>
                            </a>
                        </li>
                        <li>
                            <a href="../Model_Evaluation/对战结果界面.html">
                                <span class="menu-text">对战结果界面</span>
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </aside>
        
        <!-- 主内容区 -->
        <div class="content">
            <!-- 客户信息卡片 -->
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-user-circle"></i>
                    客户基本信息
                </div>
                <div class="card-body">
                    <div class="info-card" style="grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); font-size: 0.95rem;">
                        <div class="info-item">
                            <div class="info-label">客户姓名</div>
                            <div class="info-value">刘子硕</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">手机号码</div>
                            <div class="info-value">155****6889</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">性别</div>
                            <div class="info-value">男</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">年龄</div>
                            <div class="info-value">28岁</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">产品名称</div>
                            <div class="info-value">美团生活费</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">逾期金额</div>
                            <div class="info-value">¥1,412.46</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">逾期本金</div>
                            <div class="info-value">¥1,200.00</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">逾期天数</div>
                            <div class="info-value">17天</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">逾期阶段</div>
                            <div class="info-value">M1</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">授信额度</div>
                            <div class="info-value">¥5,000.00</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">提前结清金额</div>
                            <div class="info-value">¥1,390.00</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">历史外呼次数</div>
                            <div class="info-value">12次</div>
                        </div>
                        <div class="info-item">
                            <div class="info-label">接通次数</div>
                            <div class="info-value">5次</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 历史记录标签页 -->
            <div class="card mb-4">
                <div class="history-tabs">
                    <button class="tab-item active" data-target="history-collection">
                        <i class="fas fa-history"></i>历史催收记录
                    </button>
                    <button class="tab-item" data-target="history-payment">
                        <i class="fas fa-money-bill-wave"></i>历史还款记录
                    </button>
                    <button class="tab-item" data-target="history-ticket">
                        <i class="fas fa-clipboard-list"></i>历史工单信息
                    </button>
                </div>
                <div class="tab-content">
                    <!-- 历史催收记录 -->
                    <div class="tab-pane active" id="history-collection">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>日期</th>
                                        <th>联系人</th>
                                        <th>状态</th>
                                        <th>内容</th>
                                        <th>电话</th>
                                        <th>通话时长</th>
                                        <th>结果</th>
                                        <th>记录人</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>2024-10-21 13:26</td>
                                        <td>倪东波</td>
                                        <td><span class="badge badge-success">已接通</span></td>
                                        <td class="text-truncate">接通后挂断</td>
                                        <td>155****6889</td>
                                        <td>00:12</td>
                                        <td>其他</td>
                                        <td>AI</td>
                                    </tr>
                                    <tr>
                                        <td>2024-10-21 11:33</td>
                                        <td>倪东波</td>
                                        <td><span class="badge badge-success">已接通</span></td>
                                        <td class="text-truncate">接通后挂断</td>
                                        <td>155****6889</td>
                                        <td>00:08</td>
                                        <td>其他</td>
                                        <td>AI</td>
                                    </tr>
                                    <tr>
                                        <td>2024-10-20 15:47</td>
                                        <td>倪东波</td>
                                        <td><span class="badge badge-warning">半失联</span></td>
                                        <td class="text-truncate">无人应答</td>
                                        <td>155****6889</td>
                                        <td>00:00</td>
                                        <td>未接听</td>
                                        <td>系统</td>
                                    </tr>
                                    <tr>
                                        <td>2024-10-19 14:23</td>
                                        <td>倪东波</td>
                                        <td><span class="badge badge-success">已接通</span></td>
                                        <td class="text-truncate">客户表示目前资金周转困难，承诺下个月初处理</td>
                                        <td>155****6889</td>
                                        <td>02:45</td>
                                        <td>PTP</td>
                                        <td>人工</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- 历史还款记录 -->
                    <div class="tab-pane" id="history-payment">
                        <div class="table-responsive">
                            <table class="table table-hover mb-0">
                                <thead>
                                    <tr>
                                        <th class="sortable position-relative" data-sort="date">
                                            还款日期
                                            <i class="fas fa-filter filter-icon" data-column="date"></i>
                                            <div class="filter-dropdown" id="filter-date">
                                                <div class="filter-search">
                                                    <input type="text" class="form-control form-control-sm" placeholder="搜索...">
                                                </div>
                                                <div class="filter-options">
                                                    <!-- 筛选选项通过JS动态填充 -->
                                                </div>
                                                <div class="filter-actions">
                                                    <button class="btn btn-sm btn-outline-secondary filter-clear">清除</button>
                                                    <button class="btn btn-sm btn-primary filter-apply">应用</button>
                                                </div>
                                            </div>
                                        </th>
                                        <th class="sortable position-relative" data-sort="time">
                                            还款时间
                                            <i class="fas fa-filter filter-icon" data-column="time"></i>
                                            <div class="filter-dropdown" id="filter-time">
                                                <div class="filter-search">
                                                    <input type="text" class="form-control form-control-sm" placeholder="搜索...">
                                                </div>
                                                <div class="filter-options">
                                                    <!-- 筛选选项通过JS动态填充 -->
                                                </div>
                                                <div class="filter-actions">
                                                    <button class="btn btn-sm btn-outline-secondary filter-clear">清除</button>
                                                    <button class="btn btn-sm btn-primary filter-apply">应用</button>
                                                </div>
                                            </div>
                                        </th>
                                        <th class="sortable" data-sort="amount">还款金额</th>
                                        <th>还款类型</th>
                                        <th class="sortable position-relative" data-sort="status">
                                            还款状态
                                            <i class="fas fa-filter filter-icon" data-column="status"></i>
                                            <div class="filter-dropdown" id="filter-status">
                                                <div class="filter-options">
                                                    <div class="filter-item">
                                                        <input type="checkbox" id="status-success" class="mr-2">
                                                        <label for="status-success" class="mb-0">成功</label>
                                                    </div>
                                                    <div class="filter-item">
                                                        <input type="checkbox" id="status-failed" class="mr-2">
                                                        <label for="status-failed" class="mb-0">失败</label>
                                                    </div>
                                                </div>
                                                <div class="filter-actions">
                                                    <button class="btn btn-sm btn-outline-secondary filter-clear">清除</button>
                                                    <button class="btn btn-sm btn-primary filter-apply">应用</button>
                                                </div>
                                            </div>
                                        </th>
                                        <th>失败原因</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>2025-02-20</td>
                                        <td>14:31:07</td>
                                        <td>¥1,139.50</td>
                                        <td>代扣</td>
                                        <td><span class="badge badge-danger">失败</span></td>
                                        <td>账户余额不足</td>
                                    </tr>
                                    <tr>
                                        <td>2025-02-20</td>
                                        <td>12:29:58</td>
                                        <td>¥2,278.99</td>
                                        <td>代扣</td>
                                        <td><span class="badge badge-danger">失败</span></td>
                                        <td>账户余额不足</td>
                                    </tr>
                                    <tr>
                                        <td>2025-02-20</td>
                                        <td>10:28:26</td>
                                        <td>¥4,557.98</td>
                                        <td>代扣</td>
                                        <td><span class="badge badge-danger">失败</span></td>
                                        <td>账户余额不足</td>
                                    </tr>
                                    <tr>
                                        <td>2025-02-19</td>
                                        <td>15:01:29</td>
                                        <td>¥1,138.51</td>
                                        <td>代扣</td>
                                        <td><span class="badge badge-danger">失败</span></td>
                                        <td>账户余额不足</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- 历史工单信息 -->
                    <div class="tab-pane" id="history-ticket">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>创建时间</th>
                                        <th>工单类型</th>
                                        <th>客户需求</th>
                                        <th>解决方案</th>
                                        <th>状态</th>
                                        <th>处理结果</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>2025-01-03 15:20</td>
                                        <td>普通工单</td>
                                        <td>查询逾期情况</td>
                                        <td>解释逾期情况</td>
                                        <td><span class="badge badge-success">已结案</span></td>
                                        <td class="text-truncate">客服在了解用户的情况后，表示非常抱歉，并正在查看用户的账号逾期情况。客服询问用户是否需要协商还款，但用户表示目前不需要。</td>
                                    </tr>
                                    <tr>
                                        <td>2024-10-02 11:35</td>
                                        <td>普通工单</td>
                                        <td>停催三方、降低频率、重新分期</td>
                                        <td>降低频率、停催三方</td>
                                        <td><span class="badge badge-success">已结案</span></td>
                                        <td class="text-truncate">【监管投诉预警客户】：风险因素：美团降额，丈夫欠款较多，等有钱了第一时间还款。要求延期，婉拒。处置建议：缓催，停催三方，减少本人联系频次，友好跟进。</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 音频播放区域 -->
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-music"></i>
                    通话录音
                </div>
                <div class="card-body p-0">
                    <div class="audio-controls">
                        <button class="play-btn">
                            <i class="fas fa-play"></i>
                        </button>
                        <div class="progress-container">
                            <div class="progress-bar"></div>
                        </div>
                        <span class="time-display">0:00 / 1:00</span>
                    </div>
                </div>
            </div>
            
            <!-- 通话文本内容 -->
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-comment-alt"></i>
                    通话文本内容
                </div>
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table mb-0 conversation-table">
                            <thead>
                                <tr>
                                    <th>对话轮数</th>
                                    <th>说话方</th>
                                    <th>ASR识别</th>
                                    <th>机器人节点</th>
                                    <th>意图</th>
                                    <th>标签</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="user-speech">
                                    <td>1</td>
                                    <td>用户</td>
                                    <td>喂</td>
                                    <td>-</td>
                                    <td>无明确意图和承诺</td>
                                    <td>无明确意图和承诺</td>
                                </tr>
                                <tr class="bot-speech">
                                    <td>2</td>
                                    <td>机器人</td>
                                    <td>哎刘子硕刘先生不要着。</td>
                                    <td>无明显策略</td>
                                    <td>无明显策略</td>
                                    <td>-</td>
                                </tr>
                                <tr class="user-speech">
                                    <td>-</td>
                                    <td>用户</td>
                                    <td>哦等明天等明天吧明天明天下午</td>
                                    <td>-</td>
                                    <td>承诺明天还款</td>
                                    <td>承诺明天还款</td>
                                </tr>
                                <tr class="bot-speech">
                                    <td>3</td>
                                    <td>机器人</td>
                                    <td>您这样，刘先生，我们这边不催你什么时候还好吧？我这边跟您核实你的资料，您是刘子硕是吧？身份证尾号零零幺九对吗？</td>
                                    <td>身份核验</td>
                                    <td>询问还款时间</td>
                                    <td>身份核验</td>
                                </tr>
                                <tr class="user-speech">
                                    <td>-</td>
                                    <td>用户</td>
                                    <td>对对对</td>
                                    <td>-</td>
                                    <td>肯定</td>
                                    <td>肯定</td>
                                </tr>
                                <tr class="bot-speech">
                                    <td>4</td>
                                    <td>机器人</td>
                                    <td>您是美团月付逾期两百五十二块五毛六，逾期十七天没有问题吧？</td>
                                    <td>告知平台</td>
                                    <td>询问能否还款</td>
                                    <td>告知平台</td>
                                </tr>
                                <tr class="user-speech">
                                    <td>-</td>
                                    <td>用户</td>
                                    <td>对</td>
                                    <td>-</td>
                                    <td>肯定</td>
                                    <td>肯定</td>
                                </tr>
                                <tr class="bot-speech">
                                    <td>5</td>
                                    <td>机器人</td>
                                    <td>您这边一共哈还剩下当前还剩下一千四百一十二块四毛六，自己有没有看过？</td>
                                    <td>告知金额</td>
                                    <td>告知金额</td>
                                    <td>-</td>
                                </tr>
                                <tr class="user-speech">
                                    <td>-</td>
                                    <td>用户</td>
                                    <td>嗯没有看过一直没看过这个</td>
                                    <td>-</td>
                                    <td>否定</td>
                                    <td>否定</td>
                                </tr>
                                <tr class="bot-speech">
                                    <td>6</td>
                                    <td>机器人</td>
                                    <td>没有看过。</td>
                                    <td>无明显策略</td>
                                    <td>无明显策略</td>
                                    <td>-</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 右侧标注抽屉 -->
        <div class="annotation-drawer">
            <div class="drawer-toggle">
                <i class="fas fa-chevron-right"></i>
            </div>
            <div class="drawer-header">
                <i class="fas fa-edit"></i>
                标注信息
            </div>
            <div class="drawer-body">
                <div class="form-group">
                    <label class="form-label">对话整体表现是否符合优秀催员</label>
                    <div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="performance" id="performance-yes" value="yes">
                            <label class="form-check-label" for="performance-yes">是</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="performance" id="performance-no" value="no">
                            <label class="form-check-label" for="performance-no">否</label>
                        </div>
                    </div>
                    <div class="mt-2">
                        <textarea class="form-control form-control-sm" placeholder="请输入判断依据..." rows="3"></textarea>
                        <small class="form-text text-muted text-right">0/100字</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">还款意愿</label>
                    <div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="payment_willingness" id="willingness-high" value="high">
                            <label class="form-check-label" for="willingness-high">高</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="payment_willingness" id="willingness-low" value="low" checked>
                            <label class="form-check-label" for="willingness-low">低</label>
                        </div>
                    </div>
                    <div class="mt-2">
                        <textarea class="form-control form-control-sm" placeholder="请输入判断依据..." rows="3"></textarea>
                        <small class="form-text text-muted text-right">0/100字</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">坐席话术策略</label>
                    <select class="form-control">
                        <option value="">请选择</option>
                        <option value="1">友好提醒型</option>
                        <option value="2">明确催促型</option>
                        <option value="3">解释教育型</option>
                        <option value="4">重点关注型</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">原因说明</label>
                    <textarea class="form-control" placeholder="请详细描述判断依据..." rows="6"></textarea>
                    <small class="form-text text-muted text-right">0/200字</small>
                </div>
                
                <div class="form-group text-center mt-4">
                    <button class="btn btn-primary px-4">
                        <i class="fas fa-check mr-2"></i> 提交标注
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- JS依赖 -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function() {
            // 侧边栏切换
            $('.sidebar-toggle').click(function() {
                $('.sidebar').toggleClass('sidebar-collapsed');
                
                // 切换图标方向
                if ($('.sidebar').hasClass('sidebar-collapsed')) {
                    $('.sidebar-toggle i').removeClass('fa-chevron-left').addClass('fa-chevron-right');
                } else {
                    $('.sidebar-toggle i').removeClass('fa-chevron-right').addClass('fa-chevron-left');
                }
            });
            
            // 二级菜单切换
            $('.has-submenu > a').click(function(e) {
                e.preventDefault();
                $(this).parent().toggleClass('open');
            });
            
            // 历史记录标签页切换
            $('.history-tabs .tab-item').click(function() {
                $('.history-tabs .tab-item').removeClass('active');
                $(this).addClass('active');
                
                // 切换对应的内容
                var target = $(this).data('target');
                $('.history-content').hide();
                $('#' + target).show();
            });
            
            // 点击展开录音器
            $('.toggle-recorder').click(function() {
                $('.recorder-section').slideToggle();
            });
            
            // 时长格式化
            function formatTime(seconds) {
                var minutes = Math.floor(seconds / 60);
                var secs = Math.floor(seconds % 60);
                
                minutes = (minutes < 10) ? '0' + minutes : minutes;
                secs = (secs < 10) ? '0' + secs : secs;
                
                return minutes + ':' + secs;
            }
            
            // 初始化音频播放器
            var audio = document.getElementById('audioPlayer');
            if(audio) {
                audio.addEventListener('loadedmetadata', function() {
                    $('.audio-duration').text(formatTime(audio.duration));
                });
                
                audio.addEventListener('timeupdate', function() {
                    $('.audio-current-time').text(formatTime(audio.currentTime));
                    var progress = (audio.currentTime / audio.duration) * 100;
                    $('.audio-progress-bar').css('width', progress + '%');
                });
                
                $('.audio-play-btn').click(function() {
                    if (audio.paused) {
                        audio.play();
                        $(this).find('i').removeClass('fa-play').addClass('fa-pause');
                    } else {
                        audio.pause();
                        $(this).find('i').removeClass('fa-pause').addClass('fa-play');
                    }
                });
                
                $('.audio-progress').click(function(e) {
                    var offset = $(this).offset();
                    var width = $(this).width();
                    var clickPosition = (e.pageX - offset.left) / width;
                    
                    audio.currentTime = clickPosition * audio.duration;
                });
            }
            
            // 初始化标注状态
            updateLabelStatus();
            
            // 更新标注状态
            function updateLabelStatus() {
                var total = $('.annotation-table tbody tr').length;
                var labeled = $('.annotation-table tbody tr.labeled').length;
                
                $('.annotation-status .total-count').text(total);
                $('.annotation-status .labeled-count').text(labeled);
                
                var percent = (labeled / total * 100).toFixed(0);
                $('.annotation-progress-bar').css('width', percent + '%');
                $('.annotation-progress-text').text(percent + '%');
            }
            
            // 标注操作
            $('.annotate-btn').click(function() {
                var row = $(this).closest('tr');
                
                // 显示标注面板
                $('#annotationModal').modal('show');
                
                // 设置当前对话内容到标注面板
                var content = row.find('.dialog-content').text();
                $('#annotationContent').text(content);
            });
            
            // 保存标注
            $('#saveAnnotation').click(function() {
                // 获取标注内容
                var annotation = $('#annotationResult').val();
                
                if (annotation.trim() != '') {
                    // 在实际应用中，这里应该发送到服务器保存
                    alert('标注已保存');
                    
                    // 更新UI状态
                    $('#annotationModal').modal('hide');
                    
                    // 更新行状态为已标注
                    $('.annotation-table tbody tr:not(.labeled):first').addClass('labeled');
                    
                    // 更新标注状态
                    updateLabelStatus();
                } else {
                    alert('请输入标注内容');
                }
            });
        });
    </script>
</body>
</html>